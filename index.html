<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ©</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© */
        body {
            font-family: 'Courier New', monospace;
            background: #0f0f0f;
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        #game-container {
            max-width: 1200px;
            margin: 0 auto;
            background: #1a1a1a;
            border: 2px solid #444;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 25px #ff4500;
        }
        
        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
        .property-card {
            background: #252525;
            border-left: 4px solid #ff4500;
            padding: 10px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s;
        }
        .mission-item {
            background: #2a2a2a;
            border: 1px solid #555;
            padding: 8px;
            margin: 5px 0;
        }
        #crypto-chart {
            background: #1a1a2e;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }
        .skill-bar {
            height: 10px;
            background: #333;
            margin: 5px 0;
            border-radius: 5px;
        }
        .skill-progress {
            height: 100%;
            background: #ff4500;
            border-radius: 5px;
            width: 0%;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>ğŸ‘‘ Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ©</h1>
        
        <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© -->
        <div id="stats">
            <!-- ... (Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© Ø³Ø§Ø¨Ù‚Ø§Ù‹) ... -->
            <div class="stat">
                <div>ğŸ“Š Ø§Ù„Ù…Ù‡Ø§Ø±Ø©</div>
                <div class="stat-value" id="skill-level">1</div>
            </div>
        </div>
        
        <!-- Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
        <div class="tab-system">
            <button class="tab-button active" onclick="openTab('main-tab')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            <button class="tab-button" onclick="openTab('properties-tab')">Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª</button>
            <button class="tab-button" onclick="openTab('missions-tab')">Ø§Ù„Ù…Ù‡Ø§Ù…</button>
            <button class="tab-button" onclick="openTab('skills-tab')">Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</button>
            <button class="tab-button" onclick="openTab('crypto-tab')">Ø§Ù„ÙƒØ±ÙŠØ¨ØªÙˆ</button>
        </div>
        
        <div id="main-tab" class="tab-content">
            <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø£ØµÙ„ÙŠ -->
        </div>
        
        <div id="properties-tab" class="tab-content" style="display:none;">
            <h3>ğŸ¢ Ù…Ù…ØªÙ„ÙƒØ§ØªÙƒ</h3>
            <div id="properties-list"></div>
            <button id="buy-property">Ø´Ø±Ø§Ø¡ Ø¹Ù‚Ø§Ø± Ø¬Ø¯ÙŠØ¯</button>
        </div>
        
        <div id="missions-tab" class="tab-content" style="display:none;">
            <h3>ğŸ¯ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h3>
            <div id="missions-list"></div>
        </div>
        
        <div id="skills-tab" class="tab-content" style="display:none;">
            <h3>ğŸ“š Ø´Ø¬Ø±Ø© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª</h3>
            <div id="skills-tree"></div>
        </div>
        
        <div id="crypto-tab" class="tab-content" style="display:none;">
            <h3>â‚¿ Ø³ÙˆÙ‚ Ø§Ù„ÙƒØ±ÙŠØ¨ØªÙˆ</h3>
            <div id="crypto-prices"></div>
            <canvas id="crypto-chart" width="400" height="200"></canvas>
        </div>
        
        <!-- Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© (Ø§Ù„Ø£ÙƒÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ©ØŒ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¹Ø§Ù„Ù…ØŒ Ø¥Ù„Ø®) -->
    </div>

    <script>
        // ======== Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ======== //
        
        // 1. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª
        const properties = {
            list: [
                { id: 1, name: "Ø´Ù‚Ø© Ø¢Ù…Ù†Ø©", price: 50000, income: 2000, owned: false },
                { id: 2, name: "Ù…Ø®Ø²Ù† Ø³Ø±ÙŠ", price: 100000, income: 5000, owned: false }
            ],
            buyProperty(id) {
                const property = this.list.find(p => p.id === id);
                if (property && !property.owned && state.money >= property.price) {
                    property.owned = true;
                    state.money -= property.price;
                    addMessage(`âœ… Ø§Ø´ØªØ±ÙŠØª ${property.name}! Ø¯Ø®Ù„ ÙŠÙˆÙ…ÙŠ: $${property.income}`, "success");
                    updatePropertiesUI();
                }
            },
            collectIncome() {
                this.list.forEach(p => {
                    if (p.owned) state.money += p.income;
                });
            }
        };

        // 2. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‡Ø§Ù…
        const missions = {
            active: [],
            generateDailyMissions() {
                this.active = [
                    { id: 1, title: "ØªÙ‡Ø±ÙŠØ¨ Ø´Ø­Ù†Ø© ØµØºÙŠØ±Ø©", reward: 5000, risk: 0.3, completed: false },
                    { id: 2, title: "Ø±Ø´ÙˆØ© Ø¶Ø§Ø¨Ø·", reward: 3000, risk: 0.5, completed: false }
                ];
                updateMissionsUI();
            },
            completeMission(id) {
                const mission = this.active.find(m => m.id === id);
                if (mission && !mission.completed) {
                    mission.completed = true;
                    state.money += mission.reward;
                    state.policeSuspicion += mission.risk * 10;
                    addMessage(`ğŸ‰ Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù…Ù‡Ù…Ø©: ${mission.title}! Ø±Ø¨Ø­Øª $${mission.reward}`, "success");
                    updateMissionsUI();
                }
            }
        };

        // 3. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª
        const skills = {
            list: [
                { id: 1, name: "Ø§Ù„ØªØ®ÙˆÙŠÙ", level: 1, exp: 0, expToNext: 100 },
                { id: 2, name: "Ø§Ù„ØªÙØ§ÙˆØ¶", level: 1, exp: 0, expToNext: 100 }
            ],
            addExp(skillId, amount) {
                const skill = this.list.find(s => s.id === skillId);
                if (skill) {
                    skill.exp += amount;
                    if (skill.exp >= skill.expToNext) {
                        skill.level++;
                        skill.exp -= skill.expToNext;
                        skill.expToNext = Math.floor(skill.expToNext * 1.5);
                        addMessage(`ğŸ“ˆ Ø§Ø±ØªÙØ¹Øª Ù…Ù‡Ø§Ø±Ø© ${skill.name} Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${skill.level}!`, "success");
                    }
                    updateSkillsUI();
                }
            }
        };

        // 4. Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ±ÙŠØ¨ØªÙˆ
        const crypto = {
            prices: {
                bitcoin: { value: 50000, history: [] },
                monero: { value: 300, history: [] }
            },
            portfolio: {
                bitcoin: 0,
                monero: 0
            },
            updatePrices() {
                Object.keys(this.prices).forEach(crypto => {
                    const change = (Math.random() - 0.5) * 0.1;
                    this.prices[crypto].value *= (1 + change);
                    this.prices[crypto].history.push(this.prices[crypto].value);
                    if (this.prices[crypto].history.length > 20) {
                        this.prices[crypto].history.shift();
                    }
                });
                updateCryptoUI();
            },
            buy(cryptoName, amount) {
                const cost = this.prices[cryptoName].value * amount;
                if (state.money >= cost) {
                    this.portfolio[cryptoName] += amount;
                    state.money -= cost;
                    addMessage(`âœ… Ø§Ø´ØªØ±ÙŠØª ${amount} ${cryptoName}`, "success");
                    updateCryptoUI();
                }
            }
        };

        // 5. Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù…Ø¹Ø© Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©
        const internationalRep = {
            regions: {
                asia: 0,
                europe: 0,
                america: 0
            },
            updateReputation(region, amount) {
                this.regions[region] = Math.max(0, Math.min(100, this.regions[region] + amount));
                if (amount > 0) {
                    addMessage(`ğŸŒ ØªØ­Ø³Ù†Øª Ø³Ù…Ø¹ØªÙƒ ÙÙŠ ${region} Ø¥Ù„Ù‰ ${this.regions[region]}%`, "success");
                }
            }
        };

        // 6. Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ù…Ø±Ø§Ø¶
        const health = {
            addiction: 0,
            diseases: [],
            update() {
                if (state.drugs > 500) this.addiction += 5;
                if (this.addiction >= 50 && Math.random() < 0.1) {
                    this.diseases.push("Ø¥Ø¯Ù…Ø§Ù† Ø´Ø¯ÙŠØ¯");
                    addMessage("âš ï¸ Ø£ØµØ¨Øª Ø¨Ø¥Ø¯Ù…Ø§Ù† Ø´Ø¯ÙŠØ¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø¹Ù„Ø§Ø¬!", "alert");
                }
            }
        };

        // 7. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª
        const achievements = {
            list: [
                { id: "first_sale", name: "Ø£ÙˆÙ„ Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹", unlocked: false },
                { id: "drug_lord", name: "Ù…Ù„Ùƒ Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª", unlocked: false }
            ],
            unlock(id) {
                const achievement = this.list.find(a => a.id === id);
                if (achievement && !achievement.unlocked) {
                    achievement.unlocked = true;
                    addMessage(`ğŸ† Ø¥Ù†Ø¬Ø§Ø² Ù…ÙØªÙˆØ­: ${achievement.name}!`, "success");
                }
            }
        };

        // 8. Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¥Ø®Ø¨Ø§Ø±ÙŠØ©
        const news = {
            events: [
                "Ø´Ø±Ø·Ø© ØªÙƒØ«Ù Ø­Ù…Ù„Ø§ØªÙ‡Ø§ Ø¹Ù„Ù‰ ØªØ¬Ø§Ø± Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª",
                "Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª ÙÙŠ Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡"
            ],
            generate() {
                if (Math.random() < 0.3) {
                    const randomNews = this.events[Math.floor(Math.random() * this.events.length)];
                    addMessage(`ğŸ“° Ø®Ø¨Ø± Ø¹Ø§Ø¬Ù„: ${randomNews}`, "event");
                }
            }
        };

        // 9. Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ù„Ø­Ø© Ø§Ù„Ø®Ø§ØµØ©
        const specialWeapons = {
            list: [
                { name: "Ø¨Ù†Ø¯Ù‚ÙŠØ© Ù‡Ø¬ÙˆÙ…ÙŠØ©", price: 15000, power: 20, owned: false },
                { name: "Ù‚Ù†Ø§Ø¨Ù„ Ø¯Ø®Ø§Ù†ÙŠØ©", price: 8000, power: 10, owned: false }
            ]
        };

        // 10. Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ®ÙÙŠ
        const stealth = {
            level: 1,
            update() {
                this.level = Math.max(1, Math.min(10, 
                    skills.list.find(s => s.name === "Ø§Ù„ØªØ®ÙÙŠ")?.level || 1
                ));
            },
            getDetectionChance() {
                return 0.5 - (this.level * 0.04);
            }
        };

        // 11. Ù†Ø¸Ø§Ù… Ø§Ù„Ø§Ø­ØªØ¬Ø§Ø¬Ø§Øª
        const protests = {
            active: false,
            check() {
                if (state.reputation < 30 && Math.random() < 0.2) {
                    this.active = true;
                    addMessage("âœŠ Ø§Ø­ØªØ¬Ø§Ø¬Ø§Øª Ø´Ø¹Ø¨ÙŠØ© Ø¶Ø¯ Ø¹ØµØ§Ø¨ØªÙƒ! Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ØªÙ†Ø®ÙØ¶.", "alert");
                }
            }
        };

        // 12. Ù†Ø¸Ø§Ù… Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª
        const vehicles = {
            list: [
                { name: "Ø³ÙŠØ§Ø±Ø© Ø³Ø±ÙŠØ¹Ø©", price: 30000, speed: 2, owned: false },
                { name: "Ø´Ø§Ø­Ù†Ø© ØªÙ‡Ø±ÙŠØ¨", price: 50000, capacity: 1000, owned: false }
            ]
        };

        // 13. Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø®Ø¨Ø±ÙŠÙ†
        const informants = {
            count: 0,
            cost: 10000,
            hire() {
                if (state.money >= this.cost) {
                    this.count++;
                    state.money -= this.cost;
                    addMessage("ğŸ•µï¸â€â™‚ï¸ ÙˆØ¸ÙØª Ù…Ø®Ø¨Ø±Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹ ÙÙŠ ØµÙÙˆÙ Ø§Ù„Ø´Ø±Ø·Ø©!", "success");
                }
            }
        };

        // 14. Ù†Ø¸Ø§Ù… Ø§Ù„ÙØµØ§Ø¦Ù„ Ø§Ù„Ø¯ÙŠÙ†ÙŠØ©
        const religiousGroups = {
            influence: 0,
            affectBusiness() {
                if (this.influence > 50) {
                    state.reputation -= 5;
                    addMessage("â›ª Ø§Ù„ÙØµØ§Ø¦Ù„ Ø§Ù„Ø¯ÙŠÙ†ÙŠØ© ØªØ¶ØºØ· Ø¹Ù„Ù‰ Ø¹Ù…Ù„Ùƒ!", "alert");
                }
            }
        };

        // 15. Ù†Ø¸Ø§Ù… Ø§Ù„Ø·Ù‚Ø³
        const weather = {
            current: "Ø¹Ø§Ø¯ÙŠ",
            update() {
                const conditions = ["Ø¹Ø§ØµÙ", "Ù…Ù…Ø·Ø±", "Ø¬Ø§Ù", "Ø¹Ø§ØµÙØ© Ø±Ù…Ù„ÙŠØ©"];
                if (Math.random() < 0.1) {
                    this.current = conditions[Math.floor(Math.random() * conditions.length)];
                    addMessage(`â˜ï¸ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„ÙŠÙˆÙ…: ${this.current} - Ù‚Ø¯ ÙŠØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø¹Ù…Ù„ÙŠØ§ØªÙƒ`, "event");
                }
            }
        };

        // 16. Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø¬ÙˆÙ†
        const prison = {
            escapeChance: 0.3,
            arrested: false,
            tryEscape() {
                if (this.arrested && Math.random() < this.escapeChance) {
                    this.arrested = false;
                    addMessage("ğŸ”“ Ù†Ø¬Ø­Øª ÙÙŠ Ø§Ù„Ù‡Ø±ÙˆØ¨ Ù…Ù† Ø§Ù„Ø³Ø¬Ù†!", "success");
                }
            }
        };

        // 17. Ù†Ø¸Ø§Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø£Ø¬Ù†Ø¨ÙŠØ©
        const foreignCurrency = {
            exchangeRates: {
                usd: 1,
                eur: 0.85,
                gbp: 0.75
            },
            convert(amount, from, to) {
                return (amount / this.exchangeRates[from]) * this.exchangeRates[to];
            }
        };

        // 18. Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ¸ÙŠÙ
        const recruitment = {
            candidates: [
                { name: "Ø³Ø§Ø¦Ù‚", skill: "Ù‚ÙŠØ§Ø¯Ø©", cost: 2000 },
                { name: "Ù‚Ø±ØµØ§Ù† ÙƒÙ…Ø¨ÙŠÙˆØªØ±", skill: "Ø§Ø®ØªØ±Ø§Ù‚", cost: 5000 }
            ]
        };

        // 19. Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØ©
        const historicalEvents = {
            events: [
                { name: "Ø£Ø²Ù…Ø© Ø§Ù‚ØªØµØ§Ø¯ÙŠØ©", effect: () => state.drugPrice *= 0.7 },
                { name: "Ø­Ø±Ø¨ Ø¹ØµØ§Ø¨Ø§Øª", effect: () => state.gangs.forEach(g => g.power += 10) }
            ],
            trigger() {
                if (Math.random() < 0.05) {
                    const event = this.events[Math.floor(Math.random() * this.events.length)];
                    event.effect();
                    addMessage(`ğŸ—“ï¸ Ø­Ø¯Ø« ØªØ§Ø±ÙŠØ®ÙŠ: ${event.name}!`, "event");
                }
            }
        };

        // 20. Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ±ÙŠØ§Øª
        const memories = {
            list: [],
            add(memory) {
                this.list.push({
                    day: state.day,
                    text: memory
                });
                if (this.list.length > 10) this.list.shift();
            }
        };

        // ======== ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ======== //
        
        function updatePropertiesUI() {
            let html = '';
            properties.list.forEach(prop => {
                html += `
                <div class="property-card" onclick="properties.buyProperty(${prop.id})" 
                     style="${prop.owned ? 'border-color:#00ff7f;background:#1a2a1a' : ''}">
                    <h4>${prop.name} ${prop.owned ? 'âœ…' : ''}</h4>
                    <p>Ø§Ù„Ø³Ø¹Ø±: $${prop.price.toLocaleString()}</p>
                    <p>Ø§Ù„Ø¯Ø®Ù„: $${prop.income}/ÙŠÙˆÙ…</p>
                </div>`;
            });
            document.getElementById('properties-list').innerHTML = html;
        }

        function updateMissionsUI() {
            let html = '';
            missions.active.forEach(mission => {
                html += `
                <div class="mission-item" onclick="missions.completeMission(${mission.id})"
                     style="${mission.completed ? 'opacity:0.5' : ''}">
                    <h4>${mission.title}</h4>
                    <p>Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©: $${mission.reward}</p>
                    <p>Ø§Ù„Ø®Ø·Ø±: ${mission.risk * 100}%</p>
                    ${mission.completed ? '<p>âœ”ï¸ Ù…ÙƒØªÙ…Ù„</p>' : ''}
                </div>`;
            });
            document.getElementById('missions-list').innerHTML = html;
        }

        function updateSkillsUI() {
            let html = '';
            skills.list.forEach(skill => {
                const percent = Math.floor((skill.exp / skill.expToNext) * 100);
                html += `
                <div>
                    <h4>${skill.name} (Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${skill.level})</h4>
                    <div class="skill-bar">
                        <div class="skill-progress" style="width:${percent}%"></div>
                    </div>
                    <p>${skill.exp}/${skill.expToNext} Ø®Ø¨Ø±Ø©</p>
                </div>`;
            });
            document.getElementById('skills-tree').innerHTML = html;
        }

        function updateCryptoUI() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø³Ø¹Ø§Ø±
            let html = `
            <div>
                <h4>â‚¿ Ø§Ù„Ø¨ÙŠØªÙƒÙˆÙŠÙ†: $${crypto.prices.bitcoin.value.toFixed(2)}</h4>
                <button onclick="crypto.buy('bitcoin', 1)">Ø´Ø±Ø§Ø¡ 1 Ø¨ÙŠØªÙƒÙˆÙŠÙ†</button>
                <p>ØªÙ…Ù„Ùƒ: ${crypto.portfolio.bitcoin}</p>
            </div>
            <div>
                <h4>â“‚ï¸ Ø§Ù„Ù…ÙˆÙ†ÙŠØ±Ùˆ: $${crypto.prices.monero.value.toFixed(2)}</h4>
                <button onclick="crypto.buy('monero', 10)">Ø´Ø±Ø§Ø¡ 10 Ù…ÙˆÙ†ÙŠØ±Ùˆ</button>
                <p>ØªÙ…Ù„Ùƒ: ${crypto.portfolio.monero}</p>
            </div>`;
            document.getElementById('crypto-prices').innerHTML = html;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
            updateCryptoChart();
        }

        function updateCryptoChart() {
            const ctx = document.getElementById('crypto-chart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: crypto.prices.bitcoin.history.length}, (_, i) => i+1),
                    datasets: [
                        {
                            label: 'Ø¨ÙŠØªÙƒÙˆÙŠÙ†',
                            data: crypto.prices.bitcoin.history,
                            borderColor: '#f7931a',
                            tension: 0.1
                        },
                        {
                            label: 'Ù…ÙˆÙ†ÙŠØ±Ùˆ',
                            data: crypto.prices.monero.history,
                            borderColor: '#ff6600',
                            tension: 0.1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    }
                }
            });
        }

        // ======== Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ======== //
        
        function nextDay() {
            // Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            properties.collectIncome();
            crypto.updatePrices();
            health.update();
            weather.update();
            historicalEvents.trigger();
            
            // Ø§Ù„Ø¨Ø§Ù‚ÙŠ...
        }

        // ======== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© ======== //
        
        function initGame() {
            missions.generateDailyMissions();
            setInterval(() => crypto.updatePrices(), 30000); // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
            
            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª
            updatePropertiesUI();
            updateMissionsUI();
            updateSkillsUI();
            updateCryptoUI();
        }

        initGame();
    </script>
</body>
</html>
