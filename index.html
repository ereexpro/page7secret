<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª - Med-4o Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ©</title>

<!-- Ø®Ø·ÙˆØ· ÙˆØ£Ø³Ù„ÙˆØ¨ Ø§Ù„ØªØµÙ…ÙŠÙ… -->
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
  body {
    margin:0; padding:0;
    background: radial-gradient(circle at center, #120029 0%, #1e0047 90%);
    font-family: 'Share Tech Mono', monospace;
    color: #b28cff;
    user-select:none;
  }
  #game-container {
    max-width: 960px;
    margin: 25px auto;
    padding: 30px;
    background: linear-gradient(145deg, #1a004d, #390066);
    border-radius: 20px;
    box-shadow: 0 0 50px #aa77ffcc;
    border: 3px solid #7e3eff;
  }
  h1,h2,h3 {
    color: #e0b3ff;
    text-shadow: 0 0 15px #bb66ff;
  }
  #stats {
    display: flex;
    justify-content: space-around;
    margin-bottom: 30px;
    border-bottom: 3px solid #7e3eff;
    padding-bottom: 15px;
  }
  #stats span {
    background: #35006f;
    padding: 12px 25px;
    border-radius: 15px;
    box-shadow: 0 0 20px #a157ffcc;
    font-weight: 700;
    font-size: 1.2em;
    display: flex;
    align-items: center;
    gap: 12px;
    transition: background 0.3s ease;
    cursor: default;
  }
  #stats span:hover {
    background: #7e3eff;
    box-shadow: 0 0 40px #bb77ffcc;
  }
  button {
    background: #5600bb;
    border: none;
    color: #f3d7ff;
    font-weight: 900;
    font-size: 1.15em;
    padding: 18px 40px;
    border-radius: 15px;
    cursor: pointer;
    box-shadow: 0 0 25px #ae65ffcc;
    margin: 12px 16px;
    transition: background 0.4s ease, box-shadow 0.4s ease;
  }
  button:hover {
    background: #ae65ff;
    box-shadow: 0 0 50px #e0afffcc;
  }
  #messages {
    background: #2a006f;
    height: 320px;
    overflow-y: auto;
    border-radius: 15px;
    padding: 22px;
    margin-bottom: 35px;
    font-size: 1.15em;
    line-height: 1.6em;
    box-shadow: inset 0 0 30px #7e3effaa;
    color: #d6bbff;
  }
  .message.success { color: #8cff8c; font-weight: bold; }
  .message.alert { color: #ff5050; font-weight: bold; }
  .message.event { color: #ffaf3c; font-weight: bold; }
  #universe-info {
    padding: 24px;
    background: #4d0085cc;
    border-radius: 18px;
    margin-bottom: 30px;
    box-shadow: 0 0 40px #bf6fffbb;
    font-weight: 900;
    font-size: 1.3em;
  }
  /* Ø£Ù†Ù…Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ø£ÙƒÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ© */
  .universe-card {
    background: linear-gradient(135deg, #1e0033 0%, #3c0066 100%);
    border: 1px solid #8a2be2;
    border-radius: 12px;
    padding: 15px;
    margin: 15px 0;
    cursor: pointer;
    transition: all 0.3s;
    color: #d1b3ff;
  }
  .universe-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 7px 20px rgba(138, 43, 226, 0.6);
  }
</style>
</head>
<body>
  <div id="game-container">
    <h1>ğŸ´â€â˜ ï¸ Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª - Med-4o Edition</h1>
    
    <div id="stats">
      <span>ğŸ’° Ø§Ù„Ù…Ø§Ù„: <strong id="money">150,000$</strong></span>
      <span>ğŸ’Š Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª: <strong id="drugs">1,200 Ø¬Ù…</strong></span>
      <span>ğŸ”« Ø§Ù„Ø£Ø³Ù„Ø­Ø©: <strong id="weapons">25</strong></span>
      <span>ğŸ•µï¸â€â™‚ï¸ Ø´ÙƒÙˆÙƒ Ø§Ù„Ø´Ø±Ø·Ø©: <strong id="suspicion">12%</strong></span>
      <span>ğŸ§  Ø³Ù…Ø¹Ø© Ø§Ù„Ø¹ØµØ§Ø¨Ø©: <strong id="reputation">73%</strong></span>
      <span>ğŸ“… Ø§Ù„ÙŠÙˆÙ…: <strong id="day">42</strong></span>
    </div>

    <div id="universe-info">ğŸŒŒ Ø£Ù†Øª ÙÙŠ Ø§Ù„ÙƒÙˆÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØŒ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª ØªÙ†ØªØ¸Ø±Ùƒ!</div>

    <div id="messages"></div>

    <button id="next-day-btn">â–¶ï¸ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ</button>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ø£ÙƒÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ© -->
    <div id="universes-section" style="margin-top: 35px;">
      <h2>ğŸŒŒ Ø§Ù„Ø£ÙƒÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ©</h2>
      <div id="universes-list"></div>
      <button id="jump-universe" style="margin-top: 15px;">Ù‚ÙØ² Ø¥Ù„Ù‰ ÙƒÙˆÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠ (10 Ø£ÙŠØ§Ù…)</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.0/dist/tf.min.js"></script>
  <script>
    // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
    let state = {
      money: 150000,
      drugs: 1200,
      weapons: 25,
      suspicion: 12,
      reputation: 73,
      day: 42,
      currentUniverse: 'default',
      drugPrice: 100,
      policeSuspicion: 12
    };

    const messages = document.getElementById('messages');
    const moneyEl = document.getElementById('money');
    const drugsEl = document.getElementById('drugs');
    const weaponsEl = document.getElementById('weapons');
    const suspicionEl = document.getElementById('suspicion');
    const reputationEl = document.getElementById('reputation');
    const dayEl = document.getElementById('day');
    const universeInfo = document.getElementById('universe-info');
    const universesList = document.getElementById('universes-list');

    // ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø£ÙƒÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ©
    const parallelUniverses = {
      mafiaVerse: { 
          name: "Ø¹Ø§Ù„Ù… Ø§Ù„Ù…Ø§ÙÙŠØ§",
          drugPriceModifier: 0.5, 
          policeAggression: 2.0,
          specialEvent: "Ø­Ø±Ø¨ Ø§Ù„Ù…Ø§ÙÙŠØ§ Ø§Ù„Ø£Ø¨Ø¯ÙŠØ©",
          color: "#8B0000"
      },
      cyberPunkVerse: { 
          name: "Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ",
          drugPriceModifier: 3.0, 
          policeAggression: 0.2,
          specialEvent: "Ù‚Ø±ØµÙ†Ø© Ø§Ù„Ø¹Ù‚ÙˆÙ„",
          color: "#00FF7F"
      },
      zombieVerse: {
          name: "Ø¹Ø§Ù„Ù… Ø§Ù„Ø²ÙˆÙ…Ø¨ÙŠ",
          drugPriceModifier: 1.5,
          policeAggression: 0.1,
          specialEvent: "ÙˆØ¨Ø§Ø¡ Ø§Ù„Ø²ÙˆÙ…Ø¨ÙŠ",
          color: "#32CD32"
      },
      fantasyVerse: {
          name: "Ø¹Ø§Ù„Ù… Ø§Ù„ÙØ§Ù†ØªØ§Ø²ÙŠØ§",
          drugPriceModifier: 2.0,
          policeAggression: 0.5,
          specialEvent: "ØªÙ†Ø§Ù†ÙŠÙ† ØªÙ‡Ø±Ø¨ Ø§Ù„Ù…Ø®Ø¯Ø±Ø§Øª",
          color: "#9370DB"
      }
    };

    function addMessage(text, type='event') {
      const p = document.createElement('p');
      p.textContent = text;
      p.className = 'message ' + type;
      messages.appendChild(p);
      messages.scrollTop = messages.scrollHeight;
    }

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    function updateStats() {
      moneyEl.textContent = state.money.toLocaleString() + '$';
      drugsEl.textContent = state.drugs + ' Ø¬Ù…';
      weaponsEl.textContent = state.weapons;
      suspicionEl.textContent = state.suspicion.toFixed(1) + '%';
      reputationEl.textContent = state.reputation + '%';
      dayEl.textContent = state.day;
    }

    // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ
    function updateUniverseUI() {
      const universe = parallelUniverses[state.currentUniverse] || { name: "Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ", color: "#666", specialEvent: "Ù„Ø§ Ø£Ø­Ø¯Ø§Ø« Ø®Ø§ØµØ©" };
      universeInfo.textContent = `ğŸŒŒ Ø£Ù†Øª ÙÙŠ ${universe.name} â€” ${universe.specialEvent}`;
      universeInfo.style.boxShadow = `0 0 40px ${universe.color}bb`;
      universeInfo.style.border = `2px solid ${universe.color}`;
    }

    // Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ©
    function showUniversesList() {
      universesList.innerHTML = '';
      Object.entries(parallelUniverses).forEach(([key, universe]) => {
        const div = document.createElement('div');
        div.className = 'universe-card';
        div.style.borderColor = universe.color;
        div.innerHTML = `
          <h3>${universe.name}</h3>
          <p>ğŸ“Œ ${universe.specialEvent}</p>
          <p>ğŸ’Š ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø³Ø¹Ø±: Ã—${universe.drugPriceModifier}</p>
          <p>ğŸ‘® Ø´Ø±Ø§Ø³Ø© Ø§Ù„Ø´Ø±Ø·Ø©: Ã—${universe.policeAggression}</p>
        `;
        div.onclick = () => {
          jumpToUniverse(key);
        };
        universesList.appendChild(div);
      });
    }

    // Ø§Ù„Ù‚ÙØ² Ø¥Ù„Ù‰ ÙƒÙˆÙ† Ù…Ø¹ÙŠÙ†
    function jumpToUniverse(universeKey = null) {
      if (!universeKey) {
        const keys = Object.keys(parallelUniverses);
        universeKey = keys[Math.floor(Math.random() * keys.length)];
      }
      const universe = parallelUniverses[universeKey];
      state.currentUniverse = universeKey;
      state.drugPrice *= universe.drugPriceModifier;
      state.suspicion *= universe.policeAggression;

      addMessage(`ğŸª ÙØªØ­Øª Ø¨ÙˆØ§Ø¨Ø© Ø¥Ù„Ù‰ ${universe.name}! Ø­Ø¯Ø« Ø®Ø§Øµ: ${universe.specialEvent}`, 'alert');
      state.day += 10;
      updateUniverseUI();
      updateStats();
    }

    // Ø­Ø¯Ø« Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ Ù…Ø¹ ØªØ£Ø«ÙŠØ±Ø§Øª Ø°ÙƒÙŠØ© ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…Ø¨Ø³Ø· (Ù…Ù…ÙˆÙ‡)
    function nextDay() {
      state.day++;
      // Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ø§Ù„ ÙˆØ§Ù„Ù…Ø®Ø¯Ø±Ø§Øª Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¶Ù…Ù† Ù†Ø·Ø§Ù‚Ø§Øª Ù…Ø¹Ù‚Ø¯Ø©
      const income = Math.floor(Math.random() * 10000 - 3000);
      state.money += income;
      const drugChange = Math.floor(Math.random() * 200 - 100);
      state.drugs += drugChange;

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø´ÙƒÙˆÙƒ ÙˆÙÙ‚ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø´Ø±Ø·Ø© ÙÙŠ Ø§Ù„ÙƒÙˆÙ†
      const universe = parallelUniverses[state.currentUniverse] || { policeAggression: 1 };
      state.suspicion += (Math.random() * 3 - 1) * universe.policeAggression;
      if (state.suspicion < 0) state.suspicion = 0;
      if (state.suspicion > 100) {
        addMessage('ğŸš¨ Ø§Ù„Ø´Ø±Ø·Ø© ØªÙ„Ø§Ø­Ù‚Ùƒ Ø¨Ø´Ø¯Ø©! Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ù‡Ø±ÙˆØ¨ Ø£Ùˆ Ø¯ÙØ¹ Ø§Ù„Ø±Ø´Ø§ÙˆÙŠ!', 'alert');
        state.suspicion = 100;
      }

      // Ø³Ù…Ø¹Ø© Ø§Ù„Ø¹ØµØ§Ø¨Ø© ØªØ±ØªØ¨Ø· Ø¨Ø§Ù„Ø­Ø±ÙƒØ§Øª ÙˆØ§Ù„Ù…Ø§Ù„
      state.reputation += income > 0 ? 1 : -2;
      if (state.reputation < 0) state.reputation = 0;
      if (state.reputation > 100) state.reputation = 100;

      // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ù…ØªÙ†ÙˆØ¹Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„ØªØ¹Ø²ÙŠØ² Ø§Ù„ØªØ´ÙˆÙŠÙ‚
      const events = [
        "ğŸ”¥ ØµÙÙ‚Ø© Ù†Ø§Ø¬Ø­Ø© ØªØ²ÙŠØ¯ Ø£Ø±Ø¨Ø§Ø­Ùƒ!",
        "ğŸ’¥ Ø®Ù„Ø§Ù Ù…Ø¹ Ø¹ØµØ§Ø¨Ø© Ù…Ù†Ø§ÙØ³Ø© ÙŠØ´ØªØ¹Ù„!",
        "ğŸ”« Ø§Ø´ØªØ¨Ø§Ùƒ Ù…Ø³Ù„Ø­ ÙŠÙ†Ø°Ø± Ø¨Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø´Ø±Ø·Ø©!",
        "ğŸ’¸ Ø±Ø´Ø§ÙˆÙŠ Ù„Ù„Ø´Ø±Ø·Ø© ØªØ®ÙØ¶ Ø§Ù„Ø´ÙƒÙˆÙƒ Ù…Ø¤Ù‚ØªÙ‹Ø§.",
        "ğŸ•µï¸â€â™‚ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ø³ØªØ®Ø¨Ø§Ø±Ø§ØªÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ø¹Ù† Ø§Ù„Ø³ÙˆÙ‚.",
        "ğŸ“¦ Ø´Ø­Ù†Ø© Ù…Ø®Ø¯Ø±Ø§Øª Ø¶Ø®Ù…Ø© ÙˆØµÙ„Øª Ø¨Ø³Ù„Ø§Ù….",
        "âš ï¸ ØªØ³Ø±ÙŠØ¨ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¹ØµØ§Ø¨Ø© ÙŠÙ‡Ø¯Ø¯ Ø³Ù…Ø¹ØªÙƒ."
      ];
      const event = events[Math.floor(Math.random() * events.length)];
      addMessage(event, 'event');

      updateStats();
    }

    // Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØ­ÙƒÙ…
    document.getElementById('next-day-btn').onclick = nextDay;
    document.getElementById('jump-universe').onclick = () => jumpToUniverse();

    // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
    addMessage('ğŸ”¥ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„Ù…Ø®Ø¯Ø±Ø§ØªØŒ Ø§Ø¬Ø¹Ù„Ù‡Ø§ Ù…Ù„ÙƒÙƒ Ø§Ù„Ø®Ø§Øµ!', 'success');
    updateStats();
    updateUniverseUI();
    showUniversesList();
  </script>
</body>
</html>
